<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <style>
        .calculadora {
            max-width: 400px;
            margin: auto;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #calculadora_formulario {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-size: 14px;
            font-weight: bold;
        }

        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background: #fff;
            font-size: 14px;
        }

        button {
            padding: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #0056b3;
        }

        #respuesta_final {
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }
    </style>
    <script>
        // programable en javascript 
        // preguntas a cuestionar
        const preguntas_realizar = [
            "Â¿Te manda mensajes buenos dÃ­as sin que tÃº se los pidas?",
            "Â¿Se pone nervioso/a cuando estÃ¡ cerca de ti?",
            "Â¿Se rÃ­e con tus chistes aunque NO sean graciosos?",
            "Â¿Te defiende cuando alguien habla mal de ti?",
            "Â¿Cambia planes importantes por estar contigo?"
        ];
        // respuestas a mostrar
        const respuestas = {
            "si": {
                "si": {
                    "si": {
                        "si": {
                            "si": "ğŸ”¥ Â¡ALERTA DE AMOR MÃXIMO! Esta persona LITERALMENTE estÃ¡ PERDIDAMENTE enamorada de ti. Â¡ERES UN@ ROMPECORAZONES! ğŸ’˜",
                            "no": "ğŸ’– Â¡CASI TE ATRAPA! EstÃ¡ a un paso de declararse. Â¡Tienes todas las de ganar, DISPÃRALE AL AMOR! ğŸ’˜"
                        },
                        "no": {
                            "si": "ğŸ˜ Â¡ESTÃ CAYENDO! Le importas demasiado, solo necesita un empujoncito. Â¡ADELANTE, GUERRER@ DEL AMOR! ğŸ’•",
                            "no": "ğŸ¤” Le gustas, pero aÃºn no se decide. Â¡MANTÃ‰N LA CALMA Y LA ESTRATEGIA! ğŸ’˜"
                        }
                    },
                    "no": {
                        "si": {
                            "si": "ğŸ§ HAY SENTIMIENTOS OCULTOS. Algo lo/la frena, Â¡DESCUBRE QUÃ‰ ES! ğŸ•µï¸â€â™€ï¸â¤ï¸",
                            "no": "ğŸ¤·â€â™‚ï¸ Te aprecia, pero sin chispa romÃ¡ntica. Â¡PRÃ“XIMO CANDIDAT@! ğŸ‘€"
                        },
                        "no": {
                            "si": "ğŸ˜¶ MÃ¡s amig@ que pretendiente. Â¡ZONA DE AMIGOS DETECTADA! ğŸš¨",
                            "no": "ğŸ’” Sin quÃ­mica romÃ¡ntica. Â¡EL UNIVERSO TIENE OTROS PLANES PARA TI! ğŸŒˆ"
                        }
                    }
                },
                "no": {
                    "si": {
                        "si": {
                            "si": "ğŸ¤¨ InterÃ©s TIBIO. Necesitas SUBIR LA TEMPERATURA, Â¡ENCIENDE ESA CHISPA! ğŸ”¥",
                            "no": "ğŸ˜• MÃ¡s frÃ­o que un helado en invierno. Â¡PRÃ“XIMO OBJETIVO! ğŸ¦"
                        },
                        "no": {
                            "si": "ğŸ˜¬ ConfusiÃ³n total. Â¡NI Ã‰L/ELLA LO SABE! ğŸ¤¯",
                            "no": "ğŸ™…â€â™‚ï¸ Â¡CERO POSIBILIDADES, CAPITÃN! Rumbo a nuevos horizontes. ğŸš¢"
                        }
                    },
                    "no": {
                        "si": {
                            "si": "ğŸ¥º Te quiere... Â¡PERO COMO AMIG@! ğŸ‘«",
                            "no": "ğŸ’€ Â¡MISIÃ“N IMPOSIBLE! El amor brilla por su AUSENCIA. Â¡PRÃ“XIMA PARADA! ğŸš‚"
                        },
                        "no": {
                            "si": "ğŸ˜ Sin esperanza romÃ¡ntica. Â¡PERO EL AMOR LLEGARÃ! â¤ï¸",
                            "no": "ğŸš¨ Â¡CÃ“DIGO ROJO! AquÃ­ NO HAY ABSOLUTAMENTE NADA. Â¡PERO NO TE RINDAS! ğŸ’ª"
                        }
                    }
                }
            },
            "no": {
                "si": {
                    "si": {
                        "si": {
                            "si": "ğŸ¤·â€â™‚ï¸ InterÃ©s MEDIO. Â¡ESTRATEGIA DE AMOR EN MARCHA! ğŸ¯",
                            "no": "ğŸ˜´ MÃ¡s distante que un examen de matemÃ¡ticas. Â¡PRÃ“XIMO! ğŸ“š"
                        },
                        "no": {
                            "si": "ğŸ˜• Dudas y mÃ¡s dudas. Â¡QUÃ‰ LÃO ROMÃNTICO! ğŸŒªï¸",
                            "no": "ğŸ™„ Probabilidades CASI INEXISTENTES. Â¡SIGUIENTE CANDIDAT@! ğŸ‘€"
                        }
                    },
                    "no": {
                        "si": {
                            "si": "ğŸ˜¬ Zona de AMIGOS. Â¡ENTRADA PROHIBIDA AL AMOR! ğŸš«",
                            "no": "ğŸ’” Ni en tus SUEÃ‘OS MÃS LOCOS. Â¡ADELANTE! ğŸš€"
                        },
                        "no": {
                            "si": "ğŸ˜¶ Ni te ve. Â¡LO SIENTO MUCHO! ğŸ™ˆ",
                            "no": "â˜ ï¸ Â¡MISIÃ“N ROMÃNTICA IMPOSIBLE! Pero recuerda: Â¡EL AMOR LLEGARÃ! â¤ï¸"
                        }
                    }
                },
                "no": {
                    "si": {
                        "si": {
                            "si": "ğŸ¤¨ InterÃ©s SÃšPER TIBIO. Â¡Necesitas CALOR ROMÃNTICO! ğŸ”¥",
                            "no": "ğŸ˜’ Menos interesado/a que un libro de contabilidad. Â¡PRÃ“XIMO! ğŸ“Š"
                        },
                        "no": {
                            "si": "ğŸ¤·â€â™€ï¸ Totalmente DESCONECTAD@. Â¡QUÃ‰ MISTERIO! ğŸŒ«ï¸",
                            "no": "ğŸš« Â¡CERO CONEXIÃ“N! Ni en el UNIVERSO PARALELO. ğŸŒŒ"
                        }
                    },
                    "no": {
                        "si": {
                            "si": "ğŸ˜´ Te ve MÃS PLANO que una hoja de papel. ğŸ“„",
                            "no": "ğŸ’¨ Â¡DESVANECIDO/A COMPLETAMENTE! Ni un rastro de interÃ©s. ğŸ‘»"
                        },
                        "no": {
                            "si": "ğŸŒµ MÃ¡s seco/a que un desierto. Â¡SIN ESPERANZA! ğŸœï¸",
                            "no": "â˜¢ï¸ Â¡ZONA COMPLETAMENTE MUERTA! Ni el amor mÃ¡s valiente entrarÃ­a aquÃ­. ğŸ’€"
                        }
                    }
                }
            }
        };

        const respuesta_error = "Por favor, responde todas las preguntas.";

        // ------------ Evita tocar el codigo de abajo ------------
        // renderizar las preguntas
        function renderizarPreguntas() {
            preguntas = document.getElementById("preguntas");
            for (let i = 0; i < preguntas_realizar.length; i++) {
                const pregunta = preguntas_realizar[i];
                const label = document.createElement("label");
                label.setAttribute("for", `pregunta_${i}`);
                label.textContent = pregunta;
                preguntas.appendChild(label);

                const select = document.createElement("select");
                select.required = true;
                select.id = `pregunta_${i}`;
                preguntas.appendChild(select);

                const option = document.createElement("option");
                option.value = "";
                option.disabled = true;
                option.selected = true;
                option.textContent = "Si/No";
                select.appendChild(option);

                const optionSi = document.createElement("option");
                optionSi.value = "si";
                optionSi.textContent = "SI";
                select.appendChild(optionSi);

                const optionNo = document.createElement("option");
                optionNo.value = "no";
                optionNo.textContent = "NO";
                select.appendChild(optionNo);
            }
        }
        // autodiagnostico
        function autodiagnosticoRecursivo(estructura, nivel) {
            if (typeof estructura === "string") {
                if (nivel == 0) {
                    console.log("Resultado:", estructura);
                    return;
                } else {
                    console.error("Estructura poco profunda:", estructura);
                    return;
                }
            }

            if (!estructura || typeof estructura !== "object") {
                console.error("Estructura invalida o incompleta:", estructura);
                return;
            }

            if (!("si" in estructura) || !("no" in estructura)) {
                console.error("Falta alguna respuesta en la estructura:", estructura);
                return;
            }
            // reazlizar autodiagnostico recursivo
            autodiagnosticoRecursivo(estructura["si"], nivel - 1);
            autodiagnosticoRecursivo(estructura["no"], nivel - 1);
        }

        function autodiagnostico() {
            autodiagnosticoRecursivo(respuestas, preguntas_realizar.length);
        }

        // esperar que cargue la pagina
        document.addEventListener("DOMContentLoaded", function () {
            renderizarPreguntas();

            // procesar respuestas
            document.getElementById("calculadora_formulario").addEventListener("submit", function (event) {
                event.preventDefault(); //evitar mandado de formulario
                const respuesta_final = document.getElementById("respuesta_final");
                let respuestasUsuario = respuestas;
                // buscar respuesta
                for (let i = 0; i < preguntas_realizar.length; i++) {
                    const pregunta = document.getElementById(`pregunta_${i}`);
                    if (respuestasUsuario[pregunta.value] === undefined) {
                        respuestasUsuario = respuesta_error;
                        break;
                    } else {
                        respuestasUsuario = respuestasUsuario[pregunta.value];
                    }
                }

                // mostrar respuesta
                respuesta_final.innerHTML = respuestasUsuario;
            });
        });


    </script>

</head>

<body>
    <section class="calculadora">
        <form id="calculadora_formulario">
            <div id="preguntas"></div>
            <button type="submit">Enviar</button>
            <p id="respuesta_final"></p>
        </form>
    </section>
</body>

</html>